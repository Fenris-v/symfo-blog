{% extends 'base_dashboard.html.twig' %}

{% block title %}Создать статью{% endblock %}

{% block h1 %}Создание статьи{% endblock %}

{% block content %}
    <div class="row">
        <div class="col-xl-6">
            {% if isLimitEnded %}
                <div class="alert alert-danger" role="alert">
                    {{ 'Limit ended' | trans }}
                    <a href="{{ path('app_subscription') }}">{{ 'Subscription up' | trans }}</a>
                </div>
            {% endif %}

            {{ form_start(articleForm) }}
            <div class="form-group">
                <label for="fieldTheme">{{ 'Theme' | trans }}</label>
                <select class="form-control" id="fieldTheme" name="article_create_form[theme]">
                    <option value="">-</option>
                    {% for theme in themes %}
                        <option value="{{ theme.id }}">{{ theme.name }}</option>
                    {% endfor %}
                </select>
            </div>
            {{ form_errors(articleForm.title) }}
            <div class="form-label-group">
                {{ form_widget(articleForm.title) }}
                {{ form_label(articleForm.title) }}
            </div>
            <div class="card mb-4">
                <div class="card-body">
                    <p class="card-title">{{ 'Keyword' | trans }}</p>
                    <div class="form-label-group">
                        <input type="text"
                               id="article0Word"
                               name="article_create_form[keyword][0]"
                               class="form-control"
                               placeholder="{{ 'Keyword' | trans }}">
                        <label for="article0Word">{{ 'Keyword' | trans }}</label>
                    </div>

                    <div class="form-label-group">
                        <input type="text"
                               id="article1Word"
                               name="article_create_form[keyword][1]"
                               class="form-control"
                               placeholder="{{ 'Genitive' | trans }}">
                        <label for="article1Word">{{ 'Genitive' | trans }}</label>
                    </div>

                    <div class="form-label-group">
                        <input type="text"
                               id="article2Word"
                               name="article_create_form[keyword][2]"
                               class="form-control"
                               placeholder="{{ 'Dative' | trans }}">
                        <label for="article2Word">{{ 'Dative' | trans }}</label>
                    </div>

                    <div class="form-label-group">
                        <input type="text"
                               id="article3Word"
                               name="article_create_form[keyword][3]"
                               class="form-control"
                               placeholder="{{ 'Accusative' | trans }}">
                        <label for="article3Word">{{ 'Accusative' | trans }}</label>
                    </div>

                    <div class="form-label-group">
                        <input type="text"
                               id="article4Word"
                               name="article_create_form[keyword][4]"
                               class="form-control"
                               placeholder="{{ 'Instrumental case' | trans }}">
                        <label for="article4Word">{{ 'Instrumental case' | trans }}</label>
                    </div>

                    <div class="form-label-group">
                        <input type="text"
                               id="article5Word"
                               name="article_create_form[keyword][5]"
                               class="form-control"
                               placeholder="{{ 'Prepositional' | trans }}">
                        <label for="article5Word">{{ 'Prepositional' | trans }}</label>
                    </div>

                    <div class="form-label-group">
                        <input type="text"
                               id="article6Word"
                               name="article_create_form[keyword][6]"
                               class="form-control"
                               placeholder="{{ 'Plural' | trans }}">
                        <label for="article6Word">{{ 'Plural' | trans }}</label>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col">
                    {{ form_errors(articleForm.sizeFrom) }}
                    <div class="form-label-group">
                        {{ form_widget(articleForm.sizeFrom) }}
                        {{ form_label(articleForm.sizeFrom) }}
                    </div>
                </div>
                <div class="col">
                    {{ form_errors(articleForm.sizeTo) }}
                    <div class="form-label-group">
                        {{ form_widget(articleForm.sizeTo) }}
                        {{ form_label(articleForm.sizeTo) }}
                    </div>
                </div>
            </div>

            <div class="card mb-4">
                <div class="card-body">
                    <p class="card-title">{{ 'Words title' | trans }}</p>
                    <div id="wordsContainer">
                        <div class="row">
                            <div class="col">
                                <div class="form-label-group">
                                    <input type="text"
                                           id="word1Field"
                                           name="article_create_form[wordField][1]"
                                           class="form-control word-input"
                                           placeholder="{{ 'Word' | trans }}">
                                    <label for="word1Field">{{ 'Word' | trans }}</label>
                                </div>
                            </div>
                            <div class="col">
                                <div class="form-label-group">
                                    <input type="number"
                                           id="word1CountField"
                                           name="article_create_form[wordCountField][1]"
                                           class="form-control count-input"
                                           placeholder="{{ 'Count' | trans }}">
                                    <label for="word1CountField">{{ 'Count' | trans }}</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button id="addWord" class="btn btn-primary">Добавить слово</button>
                </div>
            </div>

            <div class="form-group">
                {{ form_errors(articleForm.images) }}
                {{ form_label(articleForm.images) }}
                {{ form_widget(articleForm.images) }}
            </div>

            {{ form_end(articleForm) }}
        </div>
    </div>

    <hr>

    {% if article %}
        <h2 class="mt-4">{{ 'Your article' | trans }}</h2>

        <hr>

        <div class="row">
            <div class="col-xl-6">
                {{ article | raw }}
            </div>
        </div>
    {% endif %}
{% endblock %}
